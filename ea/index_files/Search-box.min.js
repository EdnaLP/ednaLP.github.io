!function(e){e(document).ready(function(){for(var t=e('[data-sf-role="searchTextBoxId"]'),a=0;a<t.length;a++){var s=e(t[a]);o({resultsUrl:s.siblings('[data-sf-role="resultsUrl"]').first().val(),indexCatalogue:s.siblings('[data-sf-role="indexCatalogue"]').first().val(),wordsMode:s.siblings('[data-sf-role="wordsMode"]').first().val(),disableSuggestions:e.parseJSON(s.siblings('[data-sf-role="disableSuggestions"]').first().val()),minSuggestionLength:s.siblings('[data-sf-role="minSuggestionLength"]').first().val(),suggestionFields:s.siblings('[data-sf-role="suggestionFields"]').first().val(),language:s.siblings('[data-sf-role="language"]').first().val(),suggestionsRoute:s.siblings('[data-sf-role="suggestionsRoute"]').first().val(),searchTextBoxSelector:s.val(),searchButtonSelector:s.siblings('[data-sf-role="searchButtonId"]').first().val()})}function o(t){var a=e(t.searchTextBoxSelector);if(e(t.searchButtonSelector).click(o),a.keypress(function(e){e||(e=window.event);var t=null;t=e.keyCode?e.keyCode:e.charCode;13==t&&o(e)}),!t.disableSuggestions){a.keyup(function(n){if(38!=n.keyCode&&40!=n.keyCode&&27!=n.keyCode){13==n.keyCode&&o(n);var i={},l=a.val().trim();l.length>=t.minSuggestionLength&&(i.IndexName=t.indexCatalogue,i.SuggestionFields=t.suggestionFields,i.Text=l,i.Language=t.language,e.ajax({type:"GET",url:t.suggestionsRoute,dataType:"json",data:i,success:s}))}});try{a.autocomplete({source:[],messages:{noResults:"",results:function(){}},select:function(e,t){a.val(t.item.value),o(e)}}).autocomplete("widget").addClass("sf-autocomplete")}catch(e){}}function s(e,t){var s=e.Suggestions;a.autocomplete("option","source",s),a.autocomplete("search",a.val().trim())}function o(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1;var s=a.val();s&&s.trim()&&t.indexCatalogue&&(window.DataIntelligenceSubmitScript&&DataIntelligenceSubmitScript._client.sentenceClient.writeSentence({predicate:"Search for",object:a.val(),objectMetadata:[{K:"PageUrl",V:location.href}]}),window.location=function(){var e=a.val().trim(),s=(-1==t.resultsUrl.indexOf("?")?"?":"&")+"indexCatalogue="+encodeURIComponent(t.indexCatalogue),o="&searchQuery="+encodeURIComponent(e),n="&wordsMode="+t.wordsMode;return t.resultsUrl+s+o+n}())}}})}(jQuery);